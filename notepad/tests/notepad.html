<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test Editor</title>
<script src="../external/jquery-1.7.2.js" type="text/javascript" ></script>
<script src="../external/jquery-ui.js" type="text/javascript" ></script>
<link href="../external/jquery-ui.css" rel="stylesheet" type="text/css" media="screen" />
<script src="../external/jquery.rdfquery.core-1.0.js" type="text/javascript"></script>

<script src="../notepad/notepad.js" type="text/javascript" ></script>
<script src="../notepad/sparql.js" type="text/javascript"></script>
<link href="../css/notepad.css" rel="stylesheet" type="text/css" media="screen" />
<script>
$(function() {
    $("#notepad").notepad();
    $("#notepad").data('notepad').endpoint = new FusekiEndpoint("http://localhost:3030");
    $("#save").click(function() {
        var sparql = triplesToDatabank($("#notepad").notepad('triples')).sparqlu();
        $("#rdf").text(sparql);        
        $.post('http://localhost:3030/ds/update', {update: sparql}, function(data) {
            $("#results").text(data);
        })
    });
});
</script>
</head>
<body>
    <h3>Notepad</h3>
	<div id="notepad"></div>
	<button id="save">Save</button>

	<h4>SPARQLU</h4>
	<pre id="rdf"></pre>

	<h4>Results</h4>
	<pre id="results"></pre>
</body>
</html>